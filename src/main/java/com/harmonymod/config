package com.harmonymod.config;

import com.harmonymod.HarmonyMod;
import net.neoforged.fml.config.ModConfig;
import net.neoforged.fml.config.ModConfig.Type;
import net.neoforged.fml.loading.FMLPaths;
import net.neoforged.fml.ModLoadingContext;
import net.neoforged.fml.config.ConfigValue;
import net.neoforged.fml.config.ConfigSpec;

/**
 * Handles loading and registering of Harmony's configuration options.
 */
public class HarmonyConfig {
    public static final ConfigSpec.Builder BUILDER = ConfigSpec.builder();

    public static final ConfigValue<Boolean> STRICT_WORLDGEN = BUILDER
            .comment("Enforce strict boundaries for worldgen mods to prevent overlap (recommended true)")
            .define("strictWorldgen", true);

    public static final ConfigValue<String> LOG_LEVEL = BUILDER
            .comment("Harmony logging level (INFO, DEBUG, WARN, ERROR)")
            .define("logLevel", "INFO");

    public static final ConfigSpec SPEC = BUILDER.build();

    /**
     * Registers the config with NeoForge's loading context.
     */
    public static void register() {
        ModLoadingContext.get().registerConfig(Type.COMMON, SPEC, "harmony-common.toml");
        HarmonyMod.LOGGER.info("Harmony config registered.");
    }
}
